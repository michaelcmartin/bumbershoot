pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
-- cyclic cellular automaton
-- michael martin, 2023

while true do
 -- set up new board
 for y=0,127 do
  for x=0,127 do
   pset(x,y,rnd(16))
  end
 end
 -- wait for no input
 while btn(4) do flip() end
 -- loop until üÖæÔ∏è pressed
 while not btn(4) do
  -- compute next frame
  for y=0,127 do
   for x=0,127 do
    b=pget(x,y)
    a=(b+1)%16
    for d=-1,1,2 do
     if pget((x+d)&127,y)==a
     or pget(x,(y+d)&127)==a
     then b=a
     end
    end
    -- build new frame in
    -- sprite memory
    sset(x,y,b)
   end
  end
  -- copy sprite memory to
  -- display all at once
  palt(0) -- black is opaque
  sspr(0,0,128,128,0,0)
  flip()
 end
 -- if üÖæÔ∏è is pressed, go make a
 -- new board
end
__label__
bbcdef012223456789abcdef01234543210fedcba987654322210fedcba9876666666666666665555544455566666666677777888889ac2dcdeeedddcbcdcccb
bcdef012223456789abcdef0123456543210fedcba987654322210fedcba98766666666666665555544455566666666666777778889aaa9cdefeeedddcbcccbb
cdef012223456789abcdef012345676543210fedcba987654322210fedcba98766666666656555554445556666666666677777778999aaa0efffeeedddcbcbbb
def012223456789abcdef01234567876543210fedcba987654322210fedcba98766666665555555444555666666666667777777899999a00fffffeeedddcbbbc
ef012223456789abcdef0123456789876543210fedcba987654322210fedcba987666665555555444555666666666667777777888999a0efffffffeeedddcbcd
f012223456789abcdef0123456789a9876543210fedcba987654322210fedcba9876665555555444555666666666667777777888999abb11fffffffeeedddcde
012223456789abcdef0123456789aba9876543210fedcba987654322210fedcba98765554555444555666666666667777787888999abbbb1ff0fffffeeedddef
12223456789abcdef0123456789abcba9876543210fedcba987654322210fedcba987654445444555666666666667777789888889abbbbbb2200fffffeeedef0
2223456789abcdef0123456789abcdcba9876543210fedcba987654322210fedcba987654444455566666666666667778999888999abbbb4c2000fffffeeef01
223456789abcdef0123456789abcdedcba9876543210fedcba987654322210fedcba987654445556666666666666667899999899999abb6a400000fffffef012
23456789abcdef0123456789abcdef6ba9876543210fedcba987654322210fedcba98765444555666666666666666789999999999999a9d24000000fffef0122
3456789abcdef0123456789abcdef0789876543210fedcba987654322210fedcba9876544434566666666666666678999999999999c9c1d590000000fef01222
456789abcdef0123456789abcdef0167876543210fedcba987654322210fedcba9876544433345666666666666678999999999999cc99c994000000fef012223
56789abcdef0123456789abcdef0123676543210fedcba987654322210fedcba9876544433333456666666666678999999999999e9e99911ee4000fef0122234
6789abcdef0123456789abcdef0123456543210fedcba987654322210fedcba98765434333333345666666666789999999999b999f29991be8440fff01222345
56789abcdef0123456789abcdef01234543210fedcba987654322210fedcba98765433333333333456666666789999999999999e999991520c40fffff0122234
456789abcdef0123456789abcdef012343210fedcba987654322210fedcba9876543333333333333456666678999999999999b99fc99990400000fffff012223
3456789abcdef0123456789abcdef0123210fedcba987654322210fedcba987654333333333333333456667778999999999a13ffb99999b00aa0ff2ffef01222
23456789abcdef0123456789abcdef01210fedcba987654322210fedcba987654333333333332333334567777789999999aa36f999999aba3f3ff1efeeef0122
223456789abcdef0123456789abcdef010fedcba987654322210fedcba987654333333333332223333345677777899999aaaf3f99999aaaaafff5311e0def012
2223456789abcdef0123456789abcdef0fedcba987654322210fedcba987654333333333332222233333456777888999aaaaaaa899999aaac1fff5fde5ddef01
12223456789abcdef0123456789abcdefedcba987654322210fedcba987655543333333332222222333334567778889aaaaaa877899989a98f8f2e22df7ddef0
012223456789abcdef0123456789abcdedcba987654322210fedcba98765555543333333222222222333334567778889aaaaa98778988898a38fd8ffc5903fef
f012223456789abcdef0123456789abcdcba987654322210fedcba9876555555543333322211222222333334567778889aaaaa9877888999474dd88857338dde
ef012223456789abcdef0123456789abcba987654322210fedcba987655555555543332222211222222333334567778889aaa9877778999b4d938138d7ad63dd
def012223456789abcdef0123456789aba987654322210fedcba98765555555555543222222211222222333334567778889a9877778889a9d2f8ee066a8060dd
efff012223456789abcdef0123456789a987654322210fedcba9876555555555555543222222211222222333345567778889876678889aaddbb2bb4c628880dd
fffff012223456789abcdef012345678987654322210fedcba9876555555555555555432222222112222223345555677788876678889aaaa0022e07f6c88022e
0fff00012223456789abcdef0123456787654322210fedcba9876555555555555555554322222221122222345555556777876678889aaaaaa0dd792f8a00dd00
fff0000012223456789abcdef01234567654322210fedcba9876555555555555555555543222222212222344455555567776678889aaaaaaaaaa7775a374fef0
0f000000012333456789abcdef012345654322210fedcba9876555555555555555555555432222222222344455555556676678889aaaaaaaaabe7ac2257def00
000000001233333456789abcdef0123454322210fedcba987655555555555555555555555432222222234444455555666667778999aaaaaaabbbb095514ef000
0000000123333333456789abcdef01234322210fedcba98765555555555555555555555555432222223444444455566666777899999aaaaaaab526c3bf1f0000
00000012333333333456789abcdef012322210fedcba9876565555555555555555555555555432222344444444456666666789999999aaaaaaab60062ef00000
000001233333333333456789abcdef0122210fedcba987656765555555555555555555555555432234444444445666666666789999999aaaaabbb000ef000100
0000123333333333333456789abcdef01210fedcba987656777655555555555555555555555554334444444445666666666667899999aaaaabcbb73b73001110
00012333333333333333456789abcdef010fedcba987656777776555555555555555555555555544444444445666666666666678999aaaaaacccb77770011111
101233333333333333344456789abcdef0fedcba999876777777765555555555555555555555555444444445666666666666677789aaaaaaabcbceee90111111
3123333333333333334445677789abcdefedcba99999877777777765555555555555555555555555444444566666666666667777789aaaaabcbccc9915011161
12343333333333333444567777789abcdedcba9999999877777777765555555555555555555555555444456666666666666777778899aaabcccbcc995222b7b2
534443333333333344456777777789abcdcba999999999877777777765555555555555555555555555445666666666666677777889999aaaccccbac4b7f55c72
1244443333333334445677777778889abcba99999999999877777777765555555555555555555555555555666666666667777788999999abcccba9c755ff51b9
94444333333333444567777777888889aba9999999999999877777777765555555555555555555555555555666666666777778899999999abcba9afc294f3825
044433333333344456777777788888999a9999999999999998777777777655555555555555555555555555556666666777778899999999aaabb3bb1505afc88b
534333333333444567777777888889999999999999a999999987777777776555555555555555555555555555566666777778899999999aaabbbbbbba07117221
33333333333444567777777888889999999999999aba9999999877777777765555555555555555555555555555666777778899999999aaabbbbbdbbba7191d22
2333333333444567777777888889999999999999abbba99999998777777777655555555555555555555555555666777778899999999aaaaabbbbdcbd6a111501
123333333444567777777888889999999999999abcbbba999998777777777776555555555555555555555555666777778899999999aaaaaaabbbcccddf46bb60
222333334445677777778888888999999999999ccccbbba9998777777777777765555555555555555555555666777778899999999aaaaaaaaaecccddd6d444b6
42223334445677777777788888889999999c99e8fcccbcc998777777777777777655555555555555555555666777778899999999aaaaaaaaabeccccfff6e86b6
4124233344456777777777888889999999999c1dbecccba98777777777777777776555555555555555555666777778899999999aaaaaaaaabccc2ccc1b0606ff
2226223334445677777777788888999b99bb99999ecaba9877777777777777777776555555555555555566677777889999999999aaaaaaabbbcccccb55daa8bb
022423333345556777777777888889abbd9999999999a9877777777777777777777765555555555555566677777889999999999aaaaaaaaabbbc0cddb55a717b
09b22533345555567777777778888aa82999999999999998777777777777777777765555555555544566677777889999999999aaaabaaaaaabbb5b64d97a4115
51f57333444555556777777777b8ee5d9999999999999987777777777777777777655555555555445666777777899999999999aaabbbaaaaa00ee90771f44415
594ff3344444555556777777b7e87cc9999999999999987777777777777777777655555555555445666777777899999999999aaabbbbbaaaaaaa7773317a1bb1
d7ec6b33444955556777777714ad099999999999999987777777777777777777655555555555445666777777899999999999aaabbbbbbbaaaa473339f71dfb5d
27ea36d29444555556777aa7117c99999999999999999877777777777777777666555555555445666777777899999999999aaabbbbbbbbbbaacfbe66f281555d
477ae6b9944555555565eea773edc9a9999999999999998777777777777777666665555555444456777777899999999999aaabbbbbbbbfbbbaaf533638ee27bf
0371b11b9c445558555cc50003e1bfba99999999999999987777777777777776666655555444445667777899999999999aaabbbbbbbbbfbbbff9338311ce7c68
9cc1118f92a3488552c3c00deee13bbba999999999999999877777777777777766666555444445666677899999999999aaabbbbbbbbbbbbb44203d00b446388c
9c2f888f922235ccecccccdeeeeedcbbba9999999999999998777777777777777666665444445666667899999999999aaabbbbbbbbbbbbe99600027bffbd8eec
6066ec16e557ee0ccccccccfeeedddcbbba99999999999999987777777777777776665444445666667888999999999aaabbbbbbbbbbbb02f96050005f2260b16
1bd81f74e50eeedcccccccdddedddcccbbba999999999999999877777777777776665444445556667888889999999aaabbbbbbbbbbbbbbbf6605002e92e0a119
f75f84beeeeeeeedcccccdddddddcccbbba999999999999999877777777777776665444445555567778888899999aaabbbbbbbbbbbbbbb3c6e992006d4922639
fffae0eeeeeeeedddcccdddddddddcbbba999999999999999998777777777776665444444455555677788888999aaabbbbbbbbbbbbbbb336279f603384199df2
99caabbbeeeeedddddcdddddddddcbbba999999999999999998777777777776665444444444555556788888889aaabbbbbbbbbbbbbbbf53b774bb8cc4df999f9
9bbabbbcdeeedddddcccdddddddcbbba99999999999999999877777777777666544444444444555556788888889aaabbbbbbbbbbbbbbb3a47e495ffc99999999
99ddbbcdeeedddddcccccdddddcbbba9999999999999999987777777777766654444444444434555556788888889aaabbbbbbbbbbbb55b27064f599049bd9ff9
ce1abbbcdedddddcccccccdddcbbba9999999999999999987777777777766654444444444433345555567888889aaaaabbbbbbbbbbbbbb000d9c9995d0771999
99aaabbbcdddcdcccccccccdcbbba999999999999999998777777777776665444444444443333345555567888889aaaaabbbbbbbbbbbbbb0bff99c555b4db9b2
baeaaabbbcdcbcccccccccccbbba99999999999999999877777777777666544444444444333333345555567888889aaaaabbbbbbbbbbbbbbbbb0595b2b1b5bb2
daaaaaabbbcbbbcccccccccbbba9999999999999999987777777777766654444444444433333334555555567888889aaaaabbbbbbbbbbbbbbba0255bbbb604dd
1aaaaaaabbbbbabcccccccbbba999999999999999998777777777776665444444444544433333455555555567888889aaaaabbbbbbbbbbbbbad0ae889abc5a57
ddaaa9aaabbbaaabcccccbbba99999999999999999877777777777666544444544456544433345555555555567888889aaaaabbbbbbbbbbbaaaaaaaa11acc38d
0daaaa9aaabaaaaabcccbaba9999999999999999987777777777766656544456545666544434555555555555567888889aaaaabbbbbbbbbaaaaaaaaaaaaaaa18
aaaaaaa9aaaaaaaaabcbaaa999999999999999998777777777776665666545676567666544455555555555555567888889aaaaabbbbbbbaaaaa9aaaaaaaaaac1
ffaaaaaa9aaaaaaaaabaaa99999999999999999877777777777666566666567776787666545555555555555556667888889aaaaabbbbbaaaaa999aaaaaaaaaaf
ffaaaaaaa9aaaaaaaaaaa9999999999999999987777777777766656667676777778887666555555555555555666667888889aaaaabbbaaaaa99999aaaaaaaaaa
aaaaaaaaaa9aaaaaaaaa999999999999999998777777777776665666777777787888887666555555555555566666667888889aaaaabaaaaa9999999aaaaaaaaa
aaaaaaaaa999aaaaaaa99999999999999999877777777777666566677777778888888887666555555555556666666777888889aaaaaaaaa989999999aaaaaaaa
aaaaaaaa99999aaaaa9999999999999999987777777777766656667777777888888888887666555555555666666677777888889aaaaaaa98889999999a9aaaaa
aaaaaaa9999999aaa999999999999999998777777777776665666777777789888888888887666555555566666667777788888889aaaaa988888999999999aaaa
aaaaaa999999999a99999999999999999877777777777666566677777778999888888888887666555556666666777778888888889aaa989888999999999aaaaa
aaaaa99999999999999999999999999987777777777766656667777777899999888888888887666555666666677777888888888889a989998c99999999aaaaaa
aaaa999999999999999999999999999877777777777666566677777778999999988888888888766656666666777778888888888888989999999999999aaabaaa
aaaaa9999999999999999999999999877777777777666566677777778999999999888888888887666566666777778888888888888889a99999999999aaabbbaa
aaaaaa99999999999999989999999888777777777666566677777778999999999998888888888876665666777778888888888888889aaa999999999aaabbbbba
aaaaaba999999999999988899999888887777777666566677777778999999999999989888888888766666777778888888888888889aaaaa9999999aaabbbbbbb
baaabbba9999999999999888999888888877777666566677777778999999999999999998888888887666777778888888888888889aaaaaaa99999aaabbbbbbbb
bbabbbbba99999999999998889888888888777666566677777778999999999999999999988888888876777778888888888888889aaaaaaaaa999aaabcbbbbbbb
bbbbbbbbba999999999999988888888888887776666677777778999999999999999999999888888888777778888888888888889abaaaaaaaaa9aaabcdcbbbcbb
bbbbbbbbbba9999999999999888888888888877766677777778999999999999999999999998888888887778888888888888889abcbaaaaaaaaaaabcdddcbcccb
bcbbbbbcbbba99999999999998888888888888777677777778999999999999999d99999999988888888878888888888888889abcccbaaaaaaaaabcdddddccccc
cccbbbcccbbba999999999999988888888888887777777778999999999a99999b99999999999888888888888888888888889abcccccbaaaaaaabcdddddedcccd
dcccbcccccbbba9999999999999888888888888877777778999999999aba999999999999999998888888888888888888889abcccccccbaaaaabcdddddeeedcdd
ddcccccccccbbba99999999999998888888888888777777789999999abbba99bb9999999a9999988888888888888888889abcccccccccbaaabbbcdddefeeeddd
dddcccccccccbbba999999999999988888888888887777777899999abbbb92928b99999aaa99999888888888888888889abcccccccccccbf2d0bbcdafff0dddd
ddddcccccccccbbba9999999999999888888888888877777778999aaabbbf99b85d9b9aaaaa999998888888888888889abcccccccc1ccccddd0bbbf51fcddddd
dddddcccccccccbbba99999999999a98888888888888777777789aaaaabbbc915c999abaaaaa9999988888888888889abcccccccccccccccb3d075d57f533ddd
edddddcccccccccbbba999999999aba98888888888888777777789aaaaabaf311c99abbbaaaaa99999888888888889aaabcccccccccccccccba40dd2f8833ddd
fedddddcccccccccbbba9999999abcba98888888888888777777789aaaaaba9dd2ccbbbbbaaaaa99999888888888999aaabcccccccccccccbaa4dad6b8d33dde
ffededcccccccccccbbba99999abcdcba98888888888888777778889aaabbb20b573bbbbbbaaaaa99999888888899999aaabcccccccccccdda44dadad83330d1
f0feec1cccccccccccbaaa999abcdedcba98888888888888777888999a9a99fa80080bbbbbbaaaaa99988888888899999aaabcccccccccb1a441b40ea199966f
000f4c1ccccccccccbaaaaa9abcdefedcba9888888888887778889999999999400000bbbbbbbaaaaa999888888888999aaaaabcccccccbaaf166ebdbe9996e33
0003d5ccccccccccbaaaaaaabcdef0fedcba98888888887778888899999999995000bbbbbbbbbaaaaa9998888888889aaaaaaabcccccbaa3f66c6e1ee3d00ef0
00338594cccccccbbbaaaaabcdef010fedcba9888888877788888889999999e755500bbbbbbbaaaaaaa9998888888889aaaaaaabcccbaaad363cce55880fee4f
feeee00cccccccbbbbbaaabcdef01210fedcba9888887778888888889999999972a0bebbbbbaaaaaaaaa9998888888889aaaaaaabcba033dd03055ee3300feee
eeee4ee5cccccbbbbbbbabcdef0122210fedcba9888777888888888889999993dd1bbbcbbbaaaaaaaaaaa9998888888889aaaaaaabaa0cfd3d5e5b4f0a02ffee
eeeeeeee0cccccbbbbbbbcdef012222210fedcba98777778888898888899990aaaaabcccbaaaaaaaaaaa999888888888889aaaaaaaaaaaddd33c22ff33fffffe
eeeeeeeeedcccccbbbbbcdef01222322210fedcba987777788899e88888fcc4aaaaaabcbaaaaaaaaaaa99987888888888889aaaaaaaac222bb3d6fffffffffff
feeeeeeedcccccbbbbbcdef0122234322210fedcba987777789999e88888cccaaaaaaaaaaaaaaaaaaa9998788888888888889aaaaaaaae225eee0ef1ffffffff
eeeeeeedcccccbbbbbcdef012223454322210fedcba9877777899999888889aaaaaaaaaaaaaaaaaaa999878888888888888889aaaaaaaaaaeeed4fffffffffff
eeeeeedddcccccbbbcdef01222345654322210fedcba9877777899988888889aaaaaaaaaaaaaaaaa99987778888888888888889aaaaaac4222df8efffffffffe
eeeeedddddcccbbbcdef0122234567654322210fedcba9877777898888888789aaaaaaaaaaaaaaa9998777778888888888888889aaaaac8ec2ddddefffffffee
eeeedddddcccbbbcdef012223456787654322210fedcba9876777888888872789aaaaaaaaaaaaa999876777778888888888888889aaacc4cdd1ddddefffffeee
eeedddddcccbbbcdef01222345678987654322210fedcba98767778887877e7789aaaaaaaaaaa9998766677777888888888888888aaaac1ddddddddd1fefedee
eedddddcccbbbcdef012223456789a987654322210fedcba9876777877777777789aaaaaaaaa9998766666777778888888888888889a9cccdddddddddededdde
edddddcccbbbcdef012223456789aba987654322210fedcba9876777777777777789aaaaaaa9998766666667777788888888888888898ccccddddddddddddddd
dddddcccbbbcdef012223456789abcba987654322210fedcba9876777777777777789aaaaa99987666666666777778888888888888888cccccdddddddddddddd
ddddcccbbbcdef012223456789abcdcba987654322210fedcba9876777777777776789aaa999876666666566677777888888888888888ccccccddddddddddddd
dddcccbbbcdef012223456789abcdedcba987654322210fedcba9876777777777b66789a9998766666665556667777788888888888888cccccccdddddddddddd
ddcccbbbcdef012223456789abcdefedcba987654322210fedcba98767777777866667899987666666655555666777778888888888888ccccccccddddddddddd
dcccbbbcdef012223456789abcdef0fedcba987654322210fedcba987677767666666678987666666655555456667777788888888888ccccccccccdddddddddd
cccbbbcdef012223456789abcdef010fedcba987654322210fedcba987676666666666678766666665555544456667777788888888888ccccccccccddddddddd
ccbbbcdef012223456789abcdef01210fedcba987654322210fedcba98766666666666667666666655555444555666777778888888888cccc0ccccbcdddddddc
cbbbcdef012223456789abcdef0123210fedcba987654322210fedcba9876666666666666666666555554445556666677777888888818c11c0cdcdcbcdddddcc
bbbcdef012223456789abcdef012343210fedcba987654322210fedcba9876666666666666666655555444555666666677777888888bb1dddcdedddcbcdddccc

